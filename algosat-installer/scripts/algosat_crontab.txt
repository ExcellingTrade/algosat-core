# Daily log management (every day)
0 0 * * * /opt/algosat/algosat/scripts/daily_log_management.sh >> /opt/algosat/logs/cron.log 2>&1

# PM2 Process Management (IST midnight = 18:30 UTC previous day)
# Monday-Thursday: Restart all processes at IST midnight (18:30 UTC)
30 18 * * 0-3 /opt/algosat/algosat/scripts/daily_pm2_restart.sh >> /opt/algosat/logs/cron.log 2>&1
# Friday: Stop all processes for weekend at IST midnight (18:30 UTC Thursday)
30 18 * * 4 /opt/algosat/algosat/scripts/daily_pm2_restart.sh >> /opt/algosat/logs/cron.log 2>&1
# Sunday: Restart processes for new week at IST midnight (18:30 UTC Saturday)
30 18 * * 6 /opt/algosat/algosat/scripts/daily_pm2_restart.sh >> /opt/algosat/logs/cron.log 2>&1

# Market Hours Automation (IST times converted to UTC)
# Start algosat-main at 8:30 AM IST (3:00 AM UTC) on weekdays
0 3 * * 1-5 /opt/algosat/algosat/scripts/market_schedule_wrapper.sh start >> /opt/algosat/logs/cron.log 2>&1
# Daily Market Restarts for fresh process state
# Restart broker-monitor at 9:05 AM IST (3:35 AM UTC) on weekdays
35 3 * * 1-5 /opt/algosat/algosat/scripts/daily_market_restart.sh broker >> /opt/algosat/logs/cron.log 2>&1
# Restart algosat-main at 9:12 AM IST (3:42 AM UTC) on weekdays
42 3 * * 1-5 /opt/algosat/algosat/scripts/daily_market_restart.sh main >> /opt/algosat/logs/cron.log 2>&1
# Stop algosat-main at 4:00 PM IST (10:30 AM UTC) on weekdays  
30 10 * * 1-5 /opt/algosat/algosat/scripts/market_schedule_wrapper.sh stop >> /opt/algosat/logs/cron.log 2>&1
