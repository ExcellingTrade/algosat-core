2025-05-15 01:15:22 - __main__ - main.py:18 - INFO - ðŸ”„ Creating tables if they donâ€™t existâ€¦
2025-05-15 01:15:22 - __main__ - main.py:22 - INFO - Creating broker credentials table...
2025-05-15 01:15:22 - __main__ - main.py:27 - INFO - --- Setting up broker: fyers ---
2025-05-15 01:15:22 - __main__ - main.py:53 - INFO - Checking required authentication credentials for fyers...
2025-05-15 01:15:22 - __main__ - main.py:66 - INFO - Existing credentials for fyers are sufficient or no new input provided.
2025-05-15 01:15:22 - __main__ - main.py:93 - INFO - Broker fyers is not enabled. Skipping login and operations.
2025-05-15 01:15:22 - __main__ - main.py:94 - INFO - --- Finished setup for broker: fyers ---
2025-05-15 01:15:22 - __main__ - main.py:27 - INFO - --- Setting up broker: angel ---
2025-05-15 01:15:22 - __main__ - main.py:53 - INFO - Checking required authentication credentials for angel...
2025-05-15 01:15:22 - __main__ - main.py:66 - INFO - Existing credentials for angel are sufficient or no new input provided.
2025-05-15 01:15:22 - __main__ - main.py:70 - INFO - Broker angel is enabled. Attempting to login...
2025-05-15 01:15:22 - __main__ - main.py:91 - ERROR - Error during setup or operation for broker angel: Incomplete Angel credentials in DB for 'angel'. Missing: ['username']
Traceback (most recent call last):
  File "/opt/algosat/algosat/main.py", line 74, in _start
    login_successful = await broker_instance.login() # Standardized login method
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 46, in login
    raise RuntimeError(f"Incomplete Angel credentials in DB for '{self.broker_name}'. Missing: {missing_fields}")
RuntimeError: Incomplete Angel credentials in DB for 'angel'. Missing: ['username']
2025-05-15 01:15:22 - __main__ - main.py:94 - INFO - --- Finished setup for broker: angel ---
2025-05-15 01:15:22 - __main__ - main.py:98 - INFO - ðŸš€ All configured brokers processed. Entering poll loop...
2025-05-15 01:18:59 - __main__ - main.py:18 - INFO - ðŸ”„ Creating tables if they donâ€™t existâ€¦
2025-05-15 01:18:59 - __main__ - main.py:22 - INFO - Creating broker credentials table...
2025-05-15 01:18:59 - __main__ - main.py:27 - INFO - --- Setting up broker: fyers ---
2025-05-15 01:18:59 - __main__ - main.py:53 - INFO - Checking required authentication credentials for fyers...
2025-05-15 01:18:59 - __main__ - main.py:66 - INFO - Existing credentials for fyers are sufficient or no new input provided.
2025-05-15 01:18:59 - __main__ - main.py:93 - INFO - Broker fyers is not enabled. Skipping login and operations.
2025-05-15 01:18:59 - __main__ - main.py:94 - INFO - --- Finished setup for broker: fyers ---
2025-05-15 01:18:59 - __main__ - main.py:27 - INFO - --- Setting up broker: angel ---
2025-05-15 01:18:59 - __main__ - main.py:53 - INFO - Checking required authentication credentials for angel...
2025-05-15 01:18:59 - __main__ - main.py:66 - INFO - Existing credentials for angel are sufficient or no new input provided.
2025-05-15 01:18:59 - __main__ - main.py:70 - INFO - Broker angel is enabled. Attempting to login...
2025-05-15 01:18:59 - __main__ - main.py:91 - ERROR - Error during setup or operation for broker angel: Incomplete Angel credentials in DB for 'angel'. Missing: ['username']
Traceback (most recent call last):
  File "/opt/algosat/algosat/main.py", line 74, in _start
    login_successful = await broker_instance.login() # Standardized login method
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 46, in login
    raise RuntimeError(f"Incomplete Angel credentials in DB for '{self.broker_name}'. Missing: {missing_fields}")
RuntimeError: Incomplete Angel credentials in DB for 'angel'. Missing: ['username']
2025-05-15 01:18:59 - __main__ - main.py:94 - INFO - --- Finished setup for broker: angel ---
2025-05-15 01:18:59 - __main__ - main.py:98 - INFO - ðŸš€ All configured brokers processed. Entering poll loop...
2025-05-15 01:18:59 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 01:18:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 01:19:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 01:19:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 01:19:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 01:19:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 01:21:08 - __main__ - main.py:18 - INFO - ðŸ”„ Creating tables if they donâ€™t existâ€¦
2025-05-15 01:21:08 - __main__ - main.py:22 - INFO - Creating broker credentials table...
2025-05-15 01:21:08 - __main__ - main.py:27 - INFO - --- Setting up broker: fyers ---
2025-05-15 01:21:08 - __main__ - main.py:53 - INFO - Checking required authentication credentials for fyers...
2025-05-15 01:21:08 - __main__ - main.py:66 - INFO - Existing credentials for fyers are sufficient or no new input provided.
2025-05-15 01:21:08 - __main__ - main.py:93 - INFO - Broker fyers is not enabled. Skipping login and operations.
2025-05-15 01:21:08 - __main__ - main.py:94 - INFO - --- Finished setup for broker: fyers ---
2025-05-15 01:21:08 - __main__ - main.py:27 - INFO - --- Setting up broker: angel ---
2025-05-15 01:21:08 - __main__ - main.py:53 - INFO - Checking required authentication credentials for angel...
2025-05-15 01:21:08 - __main__ - main.py:66 - INFO - Existing credentials for angel are sufficient or no new input provided.
2025-05-15 01:21:08 - __main__ - main.py:70 - INFO - Broker angel is enabled. Attempting to login...
2025-05-15 01:21:08 - angel_wrapper - angel.py:84 - INFO - Angel login successful for 'R476835' and tokens updated in DB.
2025-05-15 01:21:08 - __main__ - main.py:87 - WARNING - Login failed for angel.
2025-05-15 01:21:08 - __main__ - main.py:94 - INFO - --- Finished setup for broker: angel ---
2025-05-15 01:21:08 - __main__ - main.py:98 - INFO - ðŸš€ All configured brokers processed. Entering poll loop...
2025-05-15 01:21:08 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 01:21:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 01:21:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 01:21:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 01:22:41 - __main__ - main.py:18 - INFO - ðŸ”„ Creating tables if they donâ€™t existâ€¦
2025-05-15 01:22:41 - __main__ - main.py:22 - INFO - Creating broker credentials table...
2025-05-15 01:22:45 - __main__ - main.py:27 - INFO - --- Setting up broker: fyers ---
2025-05-15 01:22:45 - __main__ - main.py:53 - INFO - Checking required authentication credentials for fyers...
2025-05-15 01:22:45 - __main__ - main.py:66 - INFO - Existing credentials for fyers are sufficient or no new input provided.
2025-05-15 01:22:45 - __main__ - main.py:93 - INFO - Broker fyers is not enabled. Skipping login and operations.
2025-05-15 01:22:45 - __main__ - main.py:94 - INFO - --- Finished setup for broker: fyers ---
2025-05-15 01:22:47 - __main__ - main.py:27 - INFO - --- Setting up broker: angel ---
2025-05-15 01:22:47 - __main__ - main.py:53 - INFO - Checking required authentication credentials for angel...
2025-05-15 01:22:47 - __main__ - main.py:66 - INFO - Existing credentials for angel are sufficient or no new input provided.
2025-05-15 01:22:47 - __main__ - main.py:70 - INFO - Broker angel is enabled. Attempting to login...
2025-05-15 01:23:24 - angel_wrapper - angel.py:84 - INFO - Angel login successful for 'R476835' and tokens updated in DB.
2025-05-15 01:38:53 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 01:38:53 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 01:38:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 01:38:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 01:38:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 01:38:53 - __main__ - main.py:39 - INFO - No configuration found for zerodha. Initializing with default settings.
2025-05-15 01:38:53 - __main__ - main.py:59 - INFO - Saving initial configuration for zerodha
2025-05-15 01:38:53 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 01:38:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 01:38:53 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 01:38:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 01:38:53 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 01:38:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 01:39:21 - __main__ - main.py:107 - INFO - Credentials updated for zerodha
2025-05-15 01:39:21 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 01:39:21 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 01:39:21 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 01:39:21 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 01:39:21 - angel_wrapper - angel.py:98 - INFO - Angel login successful for 'R476835' and tokens updated in DB.
2025-05-15 01:39:21 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 01:39:21 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 01:39:21 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 01:39:21 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 01:39:21 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 01:39:21 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 01:39:21 - angel_wrapper - angel.py:155 - WARNING - SmartAPI session not initialized. Attempting login first.
2025-05-15 01:39:21 - angel_wrapper - angel.py:71 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 69, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 65, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 04:23:10 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 04:23:10 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 04:23:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 04:23:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 04:23:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 04:23:10 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 04:23:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 04:23:10 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 04:23:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 04:23:10 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 04:23:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 04:23:10 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 04:23:10 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 04:23:10 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 04:23:10 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 04:23:10 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 04:23:10 - angel_wrapper - angel.py:94 - INFO - Generating a new Angel access token.
2025-05-15 04:23:11 - angel_wrapper - angel.py:151 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 04:23:11 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 04:23:11 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 04:23:11 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 04:23:11 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 04:23:11 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 04:23:11 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 04:23:11 - angel_wrapper - angel.py:209 - WARNING - SmartAPI session not initialized. Attempting login first.
2025-05-15 04:23:11 - angel_wrapper - angel.py:228 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 220, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 216, in _sync_get_profile
    profile_data = self.smart_api.getProfile()  # Assuming refresh token is not needed if session is active
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:23:11 - angel_wrapper - angel.py:90 - WARNING - Token validation failed for Angel: Angel get_profile execution failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:23:11 - angel_wrapper - angel.py:94 - INFO - Generating a new Angel access token.
2025-05-15 04:23:11 - angel_wrapper - angel.py:151 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 04:23:11 - angel_wrapper - angel.py:228 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 220, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 216, in _sync_get_profile
    profile_data = self.smart_api.getProfile()  # Assuming refresh token is not needed if session is active
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:58:26 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 04:58:26 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 04:58:26 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 04:58:26 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 04:58:26 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 04:58:26 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 04:58:26 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 04:58:26 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 04:58:26 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 04:58:26 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 04:58:26 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 04:58:26 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 04:58:26 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 04:58:26 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 04:58:26 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 04:58:26 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 04:58:26 - angel_wrapper - angel.py:228 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 220, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 216, in _sync_get_profile
    profile_data = self.smart_api.getProfile()  # Assuming refresh token is not needed if session is active
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:58:26 - angel_wrapper - angel.py:90 - WARNING - Token validation failed for Angel: Angel get_profile execution failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:58:26 - angel_wrapper - angel.py:94 - INFO - Generating a new Angel access token.
2025-05-15 04:58:26 - angel_wrapper - angel.py:151 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 04:58:26 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 04:58:26 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 04:58:26 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 04:58:26 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 04:58:26 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 04:58:26 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 04:58:26 - angel_wrapper - angel.py:209 - WARNING - SmartAPI session not initialized. Attempting login first.
2025-05-15 04:58:26 - angel_wrapper - angel.py:228 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 220, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 216, in _sync_get_profile
    profile_data = self.smart_api.getProfile()  # Assuming refresh token is not needed if session is active
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:58:26 - angel_wrapper - angel.py:90 - WARNING - Token validation failed for Angel: Angel get_profile execution failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 04:58:26 - angel_wrapper - angel.py:94 - INFO - Generating a new Angel access token.
2025-05-15 04:58:27 - angel_wrapper - angel.py:151 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 04:58:27 - angel_wrapper - angel.py:228 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 220, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 216, in _sync_get_profile
    profile_data = self.smart_api.getProfile()  # Assuming refresh token is not needed if session is active
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:22:47 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:22:47 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:22:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:22:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:22:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:22:47 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:22:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:22:47 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:22:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:22:47 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:22:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:22:47 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:22:47 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:22:47 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:22:47 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:22:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:22:47 - angel_wrapper - angel.py:485 - WARNING - Error during token validation: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:22:47 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:22:47 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:22:47 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:22:47 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:22:47 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:22:47 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:22:47 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:22:47 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:22:47 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:22:47 - angel_wrapper - angel.py:499 - WARNING - SmartAPI session not initialized. Attempting login first.
2025-05-15 05:22:47 - angel_wrapper - angel.py:485 - WARNING - Error during token validation: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:22:47 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:22:47 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:22:47 - angel_wrapper - angel.py:126 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 124, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 120, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 05:22:47 - angel_wrapper - angel.py:545 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 510, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 506, in _sync_get_profile
    profile_data = self.smart_api.getProfile()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:28:47 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:28:47 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:28:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:28:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:28:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:28:47 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:28:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:28:47 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:28:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:28:47 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:28:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:28:47 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:28:47 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:28:47 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:28:47 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:28:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:28:47 - angel_wrapper - angel.py:485 - WARNING - Error during token validation: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:28:47 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:28:47 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:28:48 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:28:48 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:28:48 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:28:48 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:28:48 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:28:48 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:28:48 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:28:48 - angel_wrapper - angel.py:499 - WARNING - SmartAPI session not initialized. Attempting login first.
2025-05-15 05:28:48 - angel_wrapper - angel.py:485 - WARNING - Error during token validation: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:28:48 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:28:48 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:28:48 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:28:48 - angel_wrapper - angel.py:545 - ERROR - Angel get_profile failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 510, in get_profile
    profile_response = await loop.run_in_executor(None, _sync_get_profile)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 506, in _sync_get_profile
    profile_data = self.smart_api.getProfile()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:29:08 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:29:08 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:29:08 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:29:08 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:29:08 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:29:08 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:29:08 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:29:08 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:29:08 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:29:08 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:29:08 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:29:08 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:29:08 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:29:08 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:29:08 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:29:08 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:29:08 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:29:08 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:29:08 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:29:08 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:29:08 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:29:08 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:29:08 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:29:08 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:29:08 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:32:27 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:32:27 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:32:27 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:32:27 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:32:27 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:32:27 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:32:27 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:32:27 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:32:27 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:32:27 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:32:27 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:32:27 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:32:27 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:32:27 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:32:27 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:32:27 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:32:28 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:32:28 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:32:28 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:32:28 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:32:28 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:32:28 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:32:28 - __main__ - main.py:147 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:32:28 - __main__ - main.py:147 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:32:28 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:43:31 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:43:31 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:43:31 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:43:31 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:43:31 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:43:31 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:43:31 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:43:31 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:43:31 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:43:31 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:43:31 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:43:31 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:43:31 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:43:31 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:43:31 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:43:31 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:43:31 - angel_wrapper - angel.py:250 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:43:31 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:43:31 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:43:31 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:43:31 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:43:31 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:43:31 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:43:31 - __main__ - main.py:152 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:43:31 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:43:31 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:43:31 - angel_wrapper - angel.py:250 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:43:31 - angel_wrapper - angel.py:267 - INFO - Token invalid or expired, attempting to refresh by logging in again
2025-05-15 05:43:31 - angel_wrapper - angel.py:250 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 05:43:31 - angel_wrapper - angel.py:91 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 05:43:31 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:43:31 - angel_wrapper - angel.py:126 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 124, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 120, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 05:43:31 - angel_wrapper - angel.py:281 - ERROR - Failed to refresh token for Angel broker
2025-05-15 05:43:31 - __main__ - main.py:145 - INFO - Profile for angel: {}
2025-05-15 05:43:31 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 05:43:31 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 05:43:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:47:40 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:47:40 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:47:40 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:47:40 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:47:40 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:47:40 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:47:40 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:47:40 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:47:40 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:47:40 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:47:40 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:47:40 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:47:40 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:47:40 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:47:40 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:47:40 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:47:40 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:47:40 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:47:40 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:47:40 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:47:40 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:47:40 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:47:40 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:47:40 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:47:40 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:47:40 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:47:40 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:47:40 - angel_wrapper - angel.py:126 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 124, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 120, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 05:47:40 - __main__ - main.py:141 - INFO - Profile for angel: 
2025-05-15 05:47:40 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 05:47:40 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 05:47:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:47:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:47:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:48:51 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:48:51 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:48:51 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:48:51 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:48:51 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:48:51 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:48:51 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:48:51 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:48:51 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:48:51 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:48:51 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:48:51 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:48:51 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:48:51 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:48:51 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:48:51 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:48:51 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:48:51 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:48:52 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:48:52 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:48:52 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:48:52 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:48:52 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:48:52 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:48:52 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:48:52 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:48:52 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:48:52 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:48:52 - __main__ - main.py:141 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 05:48:52 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 05:48:52 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 05:48:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:49:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:49:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:49:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:49:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:49:35 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:49:35 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:49:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:49:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:49:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:49:35 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:49:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:49:35 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:49:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:49:35 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:49:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:49:35 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:49:35 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:49:35 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:49:35 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:49:35 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:49:35 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:49:35 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:49:35 - angel_wrapper - angel.py:154 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 05:49:35 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 05:49:35 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 05:49:35 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 05:49:35 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 05:49:35 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 05:49:35 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 05:49:35 - angel_wrapper - angel.py:93 - WARNING - Token validation failed for Angel: 'AngelWrapper' object has no attribute '_validate_token'
2025-05-15 05:49:35 - angel_wrapper - angel.py:97 - INFO - Generating a new Angel access token.
2025-05-15 05:49:35 - angel_wrapper - angel.py:126 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 124, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 120, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 05:49:35 - __main__ - main.py:141 - INFO - Profile for angel: 
2025-05-15 05:49:35 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 05:49:35 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 05:49:35 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:49:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:49:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:49:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:49:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:35 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:35 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:50:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:50:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:35 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:35 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:51:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:51:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:35 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:35 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:52:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:52:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:10 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 05:53:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:16 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 05:53:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:31 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 05:53:35 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:35 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:50 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 05:53:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:53:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:53:57 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 05:54:05 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 05:54:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:54:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 05:54:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:54:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:54:34 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 05:54:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:54:39 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 05:54:40 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 05:54:41 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 05:54:43 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 05:54:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:54:47 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 05:54:47 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 05:54:47 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 05:54:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 05:54:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:54:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:55:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:55:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:56:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:56:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:57:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:57:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:58:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:58:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 05:59:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 05:59:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:00:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:00:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:01:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:01:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:02:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:02:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:03:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:03:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:04:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:04:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:05:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:05:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:06:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:06:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:07:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:07:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:08:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:08:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:09:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:09:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:10:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:10:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:11:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:11:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:12:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:12:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:13:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:13:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:14:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:14:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:15:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:15:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:16:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:16:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:17:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:17:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:18:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:18:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:19:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:19:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:20:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:20:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:21:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:21:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:22:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:22:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:23:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:23:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:24:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:24:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:25:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:25:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:26:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:26:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:27:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:27:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:28:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:28:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:28:11 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:28:11 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:28:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:28:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:28:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:28:11 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:28:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:28:11 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:28:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:28:11 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:28:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:28:11 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:28:11 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:28:11 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:28:11 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:28:11 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:28:11 - angel_wrapper - angel.py:190 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 06:28:11 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:28:11 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 06:28:11 - broker_auth - broker_auth.py:93 - INFO - Successfully authenticated brokers: angel
2025-05-15 06:28:11 - broker_auth - broker_auth.py:95 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 06:28:11 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 06:28:11 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 06:28:11 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 06:28:11 - angel_wrapper - angel.py:190 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 06:28:11 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:28:12 - __main__ - main.py:141 - INFO - Profile for angel: 
2025-05-15 06:28:12 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 06:28:12 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 06:28:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:28:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:28:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:28:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:28:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:28:38 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:28:45 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:28:45 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:28:54 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:28:55 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:28:56 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:28:57 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:28:59 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:29:00 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:29:01 - broker_auth - broker_auth.py:81 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:29:01 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:29:01 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:29:01 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:29:34 - angel_wrapper - angel.py:190 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 06:31:38 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:31:41 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:31:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:31:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:31:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:31:41 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:31:43 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:31:43 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:31:44 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:31:45 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:31:46 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:31:46 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:31:47 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:31:47 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:31:47 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:31:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:31:51 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:31:51 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:31:51 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:31:51 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:31:51 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 06:31:51 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 06:31:51 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 06:31:51 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 06:31:51 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 06:31:51 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 06:31:53 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:31:53 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:31:53 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:31:53 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:31:53 - __main__ - main.py:141 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 06:31:53 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 06:31:53 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 06:31:53 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:32:03 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:32:03 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:32:13 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:32:13 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:32:54 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:33:03 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:33:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:33:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:33:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:33:03 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:33:06 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:33:07 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:33:08 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:33:10 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:33:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:33:15 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:33:16 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:33:16 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:33:16 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:33:16 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:54:54 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:54:54 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:54:54 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:54:54 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:54:54 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:54:54 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:54:54 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:54:54 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:54:54 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:54:54 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:54:54 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:54:54 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:54:54 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:54:54 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:54:54 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:54:54 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:54:54 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:54:54 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:54:54 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:54:55 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:54:55 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 06:54:55 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 06:54:55 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 06:54:55 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 06:54:55 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 06:54:55 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 06:54:55 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:54:55 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:54:55 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:54:55 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:54:55 - __main__ - main.py:141 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 06:55:53 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:55:53 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:55:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:55:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:55:53 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:55:53 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:55:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:55:53 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:55:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:55:53 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:55:53 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:55:53 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:55:53 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:55:53 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:55:53 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:55:53 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:55:53 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:55:53 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:55:53 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:55:53 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:55:53 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 06:55:53 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 06:55:53 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 06:55:53 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 06:55:53 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 06:55:53 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 06:55:53 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:55:53 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:55:53 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:55:53 - angel_wrapper - angel.py:129 - ERROR - Angel SmartConnect login attempt failed: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
Traceback (most recent call last):
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 230, in _request
    data = json.loads(r.content.decode("utf8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/angel.py", line 127, in login
    self.smart_api, login_data = await loop.run_in_executor(None, _sync_login)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 287, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/tasks.py", line 385, in __wakeup
    future.result()
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/angel.py", line 123, in _sync_login
    session_data = sc.generateSession(username, password, totp_code)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 271, in generateSession
    loginResultObject=self._postRequest("api.login",params)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 263, in _postRequest
    return self._request(route, "POST", params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/SmartApi/smartConnect.py", line 233, in _request
    raise ex.DataException("Couldn't parse the JSON response received from the server: {content}".format(
SmartApi.smartExceptions.DataException: Couldn't parse the JSON response received from the server: b'Access denied because of exceeding access rate'
2025-05-15 06:55:53 - __main__ - main.py:141 - INFO - Profile for angel: 
2025-05-15 06:55:53 - __main__ - main.py:146 - INFO - Positions for angel: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:55:53 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 06:55:53 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 06:55:53 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:03 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:03 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:13 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:13 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:18 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 06:56:18 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 06:56:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 06:56:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 06:56:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 06:56:18 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 06:56:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 06:56:18 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 06:56:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 06:56:18 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 06:56:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 06:56:18 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 06:56:18 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 06:56:18 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 06:56:18 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 06:56:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 06:56:18 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:56:18 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:56:18 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:56:18 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:56:18 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 06:56:18 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 06:56:18 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 06:56:18 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 06:56:18 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 06:56:18 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 06:56:18 - angel_wrapper - angel.py:187 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 06:56:18 - angel_wrapper - angel.py:94 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 06:56:18 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 06:56:19 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 06:56:19 - __main__ - main.py:141 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 06:56:19 - __main__ - main.py:146 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 06:56:19 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 06:56:19 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 06:56:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:56:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:56:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 06:57:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 06:57:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:00:12 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:00:12 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:00:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:00:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:00:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:00:12 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:00:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:00:12 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:00:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:00:12 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:00:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:00:12 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:00:12 - broker_auth - broker_auth.py:82 - INFO - Found 3 broker(s) to potentially authenticate: fyers, zerodha, angel
2025-05-15 07:00:12 - broker_auth - broker_auth.py:47 - INFO - Broker fyers is not enabled. Skipping authentication.
2025-05-15 07:00:12 - broker_auth - broker_auth.py:47 - INFO - Broker zerodha is not enabled. Skipping authentication.
2025-05-15 07:00:12 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 07:00:12 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 07:00:13 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 07:00:13 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 07:00:13 - broker_auth - broker_auth.py:94 - INFO - Successfully authenticated brokers: angel
2025-05-15 07:00:13 - broker_auth - broker_auth.py:96 - WARNING - Failed to authenticate brokers: fyers, zerodha
2025-05-15 07:00:13 - __main__ - main.py:148 - WARNING - Authentication failed for fyers: Broker fyers is not enabled
2025-05-15 07:00:13 - __main__ - main.py:148 - WARNING - Authentication failed for zerodha: Broker zerodha is not enabled
2025-05-15 07:00:13 - __main__ - main.py:135 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 07:00:13 - angel_wrapper - angel.py:100 - INFO - Generating a new Angel access token.
2025-05-15 07:00:13 - angel_wrapper - angel.py:157 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 07:00:13 - __main__ - main.py:141 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 07:00:13 - __main__ - main.py:146 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 07:00:13 - __main__ - main.py:151 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:00:13 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:00:13 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:00:23 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:00:23 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:07:15 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:07:15 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:07:15 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:07:15 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:07:15 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:07:15 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:07:15 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:07:15 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:07:15 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:07:15 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:07:15 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:07:15 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:07:15 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:07:15 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:07:15 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): angel
2025-05-15 07:07:15 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 07:07:15 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 07:07:15 - angel_wrapper - angel.py:203 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 07:07:15 - angel_wrapper - angel.py:101 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 07:07:15 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 07:07:15 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 07:07:15 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 07:07:15 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: angel
2025-05-15 07:07:15 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 07:07:15 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 07:07:15 - angel_wrapper - angel.py:380 - ERROR - Error getting profile: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 07:07:15 - __main__ - main.py:145 - INFO - Profile for angel: {}
2025-05-15 07:07:15 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 07:07:15 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:07:15 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:07:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:07:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:07:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:08:11 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:08:11 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:08:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:08:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:08:11 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:08:11 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:08:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:08:11 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:08:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:08:11 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:08:11 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:08:11 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:08:11 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:08:11 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:08:11 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): angel
2025-05-15 07:08:11 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 07:08:11 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 07:08:11 - angel_wrapper - angel.py:203 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 07:08:11 - angel_wrapper - angel.py:101 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 07:08:11 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 07:08:11 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 07:08:11 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 07:08:11 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: angel
2025-05-15 07:08:11 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 07:08:11 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 07:08:11 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 07:08:11 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 07:08:11 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:08:11 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:08:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:08:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:08:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:19:30 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:19:30 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:19:30 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:19:30 - __main__ - main.py:39 - INFO - No configuration found for fyers. Initializing with default settings.
2025-05-15 07:19:30 - __main__ - main.py:59 - INFO - Saving initial configuration for fyers
2025-05-15 07:19:30 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:19:30 - __main__ - main.py:39 - INFO - No configuration found for angel. Initializing with default settings.
2025-05-15 07:19:30 - __main__ - main.py:59 - INFO - Saving initial configuration for angel
2025-05-15 07:19:30 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:19:30 - __main__ - main.py:39 - INFO - No configuration found for zerodha. Initializing with default settings.
2025-05-15 07:19:30 - __main__ - main.py:59 - INFO - Saving initial configuration for zerodha
2025-05-15 07:19:30 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:19:30 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:20:39 - __main__ - main.py:107 - INFO - Credentials updated for fyers
2025-05-15 07:20:39 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:21:00 - __main__ - main.py:107 - INFO - Credentials updated for angel
2025-05-15 07:21:00 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:21:34 - __main__ - main.py:107 - INFO - Credentials updated for zerodha
2025-05-15 07:21:34 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:21:34 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:21:34 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:21:34 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:21:34 - broker_auth - broker_auth.py:68 - ERROR - Error during authentication of broker fyers: FyersWrapper() takes no arguments
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/broker_auth.py", line 51, in auth_broker
    broker_instance = get_broker(broker_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/factory.py", line 51, in get_broker
    broker_instance = BrokerClass(broker_name=key)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: FyersWrapper() takes no arguments
2025-05-15 07:21:34 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:21:34 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Error during authentication: FyersWrapper() takes no arguments
2025-05-15 07:21:34 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:21:34 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:21:34 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:21:44 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:21:44 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:22:03 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:22:03 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:22:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:22:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:22:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:22:03 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:22:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:22:03 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:22:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:22:03 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:22:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:22:03 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:22:03 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:22:03 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:22:03 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:22:03 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:22:03 - broker_auth - broker_auth.py:68 - ERROR - Error during authentication of broker fyers: FyersWrapper() takes no arguments
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/broker_auth.py", line 51, in auth_broker
    broker_instance = get_broker(broker_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/factory.py", line 51, in get_broker
    broker_instance = BrokerClass(broker_name=key)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: FyersWrapper() takes no arguments
2025-05-15 07:22:03 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:22:03 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Error during authentication: FyersWrapper() takes no arguments
2025-05-15 07:22:03 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:22:03 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:22:03 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:22:55 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:22:55 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:22:55 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:22:55 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:22:55 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:22:55 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:22:55 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:22:55 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:22:55 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:22:55 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:22:55 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:22:55 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:22:55 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:22:55 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:22:55 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:22:55 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:22:55 - broker_auth - broker_auth.py:68 - ERROR - Error during authentication of broker fyers: FyersWrapper() takes no arguments
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/broker_auth.py", line 51, in auth_broker
    broker_instance = get_broker(broker_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/factory.py", line 51, in get_broker
    broker_instance = BrokerClass(broker_name=key)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: FyersWrapper() takes no arguments
2025-05-15 07:22:55 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:22:55 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Error during authentication: FyersWrapper() takes no arguments
2025-05-15 07:22:55 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:22:55 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:22:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:06 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:25:06 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:25:06 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:25:06 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:25:06 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:25:06 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:25:06 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:25:06 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:25:06 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:25:06 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:25:06 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:25:06 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:25:06 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:25:06 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:25:06 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:25:06 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:25:06 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:25:06 - fyers_wrapper - fyers.py:388 - INFO - Obtaining new Fyers access token
2025-05-15 07:25:06 - fyers_wrapper - fyers.py:203 - INFO - Generating a new access token.
2025-05-15 07:25:06 - fyers_wrapper - fyers.py:393 - ERROR - Fyers authentication failed: 'api_key'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 389, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 205, in _setup_auth_sync
    client_id=credentials["api_key"],
              ~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'api_key'
2025-05-15 07:25:06 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 07:25:06 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:25:06 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 07:25:06 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:25:06 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:25:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:25:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:25:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:25:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:40 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:25:46 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:25:46 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:25:46 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:25:46 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:25:46 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:25:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:25:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:48 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:25:50 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:25:52 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:25:53 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:25:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:25:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:25:57 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:25:58 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:25:59 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:25:59 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:25:59 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:25:59 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:25:59 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:25:59 - fyers_wrapper - fyers.py:388 - INFO - Obtaining new Fyers access token
2025-05-15 07:26:06 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:06 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:16 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:16 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:21 - fyers_wrapper - fyers.py:203 - INFO - Generating a new access token.
2025-05-15 07:26:26 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:26 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:28 - fyers_wrapper - fyers.py:393 - ERROR - Fyers authentication failed: 'api_key'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 389, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 205, in _setup_auth_sync
    client_id=credentials["api_key"],
              ~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'api_key'
2025-05-15 07:26:28 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 07:26:28 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:26:28 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 07:26:28 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:26:28 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:26:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:36 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:36 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:46 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:46 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:26:47 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:26:56 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:26:56 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:12 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:27:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:27:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:27:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:27:12 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:27:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:19 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:27:23 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:27:23 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:27:23 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:27:23 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:27:23 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:27:23 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:27:23 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:27:23 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:27:23 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:27:23 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:27:23 - fyers_wrapper - fyers.py:388 - INFO - Obtaining new Fyers access token
2025-05-15 07:27:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:27:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:27:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:28:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:28:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:29:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:29:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:30:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:30:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:31:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:31:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:32:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:32:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:33:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:33:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:34:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:34:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:35:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:35:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:36:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:36:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:37:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:37:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:38:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:38:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:41 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:39:41 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:39:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:39:41 - __main__ - main.py:39 - INFO - No configuration found for fyers. Initializing with default settings.
2025-05-15 07:39:41 - __main__ - main.py:59 - INFO - Saving initial configuration for fyers
2025-05-15 07:39:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:39:41 - __main__ - main.py:39 - INFO - No configuration found for angel. Initializing with default settings.
2025-05-15 07:39:41 - __main__ - main.py:59 - INFO - Saving initial configuration for angel
2025-05-15 07:39:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:39:41 - __main__ - main.py:39 - INFO - No configuration found for zerodha. Initializing with default settings.
2025-05-15 07:39:41 - __main__ - main.py:59 - INFO - Saving initial configuration for zerodha
2025-05-15 07:39:41 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:39:41 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:39:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:39:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:39:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:40:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:40:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:35 - __main__ - main.py:107 - INFO - Credentials updated for fyers
2025-05-15 07:41:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:41:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:41:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:41:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:42:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:42:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:07 - __main__ - main.py:107 - INFO - Credentials updated for angel
2025-05-15 07:43:07 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:43:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:24 - __main__ - main.py:107 - INFO - Credentials updated for zerodha
2025-05-15 07:43:24 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:43:24 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:43:24 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:43:24 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:43:24 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:43:24 - fyers_wrapper - fyers.py:388 - INFO - Obtaining new Fyers access token
2025-05-15 07:43:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:39 - fyers_wrapper - fyers.py:203 - INFO - Generating a new access token.
2025-05-15 07:43:42 - fyers_wrapper - fyers.py:393 - ERROR - Fyers authentication failed: 'api_key'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 389, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 205, in _setup_auth_sync
    client_id=credentials["api_key"],
              ~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'api_key'
2025-05-15 07:43:42 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 07:43:42 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:43:42 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 07:43:42 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:43:42 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:43:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:43:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:43:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:44:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:44:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:29 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:45:29 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:45:29 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:45:29 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:45:29 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:45:29 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:45:29 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:45:29 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:45:29 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:45:29 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:45:29 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:45:29 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:45:29 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:45:29 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:45:29 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:45:29 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:45:29 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:45:29 - fyers_wrapper - fyers.py:388 - INFO - Obtaining new Fyers access token
2025-05-15 07:45:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:45:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:45:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:09 - fyers_wrapper - fyers.py:203 - INFO - Generating a new access token.
2025-05-15 07:46:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:46:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:46:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:47:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:47:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:48:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:48:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:49:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:49:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:50:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:50:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:51:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:51:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:52:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:52:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:53:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:53:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:54:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:54:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:55:02 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:55:02 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:55:02 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:55:02 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:55:02 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:55:02 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:55:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:55:02 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:55:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:55:02 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:55:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:55:02 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:55:02 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:55:02 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:55:02 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:55:02 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:55:02 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:55:02 - fyers_wrapper - fyers.py:392 - INFO - Obtaining new Fyers access token
2025-05-15 07:55:02 - fyers_wrapper - fyers.py:203 - INFO - Generating a new access token.
2025-05-15 07:55:02 - fyers_wrapper - fyers.py:397 - ERROR - Fyers authentication failed: 'api_key'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 393, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 205, in _setup_auth_sync
    client_id=credentials["api_key"],
              ~~~~~~~~~~~^^^^^^^^^^^
KeyError: 'api_key'
2025-05-15 07:55:02 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 07:55:02 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:55:02 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 07:55:02 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:55:02 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:55:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:55:24 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:55:24 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:55:24 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:55:24 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:55:24 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:55:24 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:55:24 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:55:24 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:55:24 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:55:24 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:55:24 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:55:24 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:55:24 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:55:24 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:55:24 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:55:24 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:55:24 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:55:55 - fyers_wrapper - fyers.py:392 - INFO - Obtaining new Fyers access token
2025-05-15 07:58:34 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 07:58:34 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 07:58:34 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 07:58:34 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 07:58:34 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 07:58:34 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 07:58:34 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 07:58:34 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 07:58:34 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 07:58:34 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 07:58:34 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 07:58:34 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 07:58:34 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 07:58:34 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 07:58:34 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 07:58:34 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 07:58:34 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 07:58:34 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 07:58:34 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 07:58:34 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: 'mobile_number'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 223, in _setup_auth_sync
    mobile_number=credentials["mobile_number"],
                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'mobile_number'
2025-05-15 07:58:34 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 07:58:34 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 07:58:34 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 07:58:34 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 07:58:34 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 07:58:34 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:58:45 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:58:45 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:58:55 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:58:55 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:59:05 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:59:05 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:59:15 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:59:15 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 07:59:25 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 07:59:25 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:00:18 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:00:18 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:00:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:00:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:00:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:00:18 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:00:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:00:18 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:00:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:00:18 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:00:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:00:18 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:00:18 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:00:18 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:00:18 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:00:18 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:00:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:00:18 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:00:18 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:00:18 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: 'p2fa'
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 224, in _setup_auth_sync
    password_2fa=credentials["p2fa"],
                 ~~~~~~~~~~~^^^^^^^^
KeyError: 'p2fa'
2025-05-15 08:00:18 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:00:18 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:00:18 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:00:18 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:00:18 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:00:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:00:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:00:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:00:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:00:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:00:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:00:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:01:03 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:01:03 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:01:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:01:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:01:03 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:01:03 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:01:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:01:03 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:01:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:01:03 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:01:03 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:01:03 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:01:03 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:01:03 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:01:03 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:01:03 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:01:03 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:01:03 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:01:03 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:02:12 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:02:12 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:02:12 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:02:12 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:02:12 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:02:12 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:02:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:02:25 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:02:25 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:02:25 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:02:25 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:02:25 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:02:25 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:02:25 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:02:25 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:02:25 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:02:25 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:02:25 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:02:25 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:02:25 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:02:25 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:02:25 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:02:25 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:02:25 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:02:25 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:02:25 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:03:08 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:03:08 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:03:08 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:03:08 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:03:08 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:03:08 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:03:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:09:33 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:09:33 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:09:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:09:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:09:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:09:33 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:09:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:09:33 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:09:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:09:33 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:09:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:09:33 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:09:33 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:09:33 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:09:33 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:09:33 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:09:33 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:09:33 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:09:33 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:10:42 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:10:42 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:10:42 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:10:42 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:10:42 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:10:42 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:10:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:10:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:10:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:11:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:11:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:16:23 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:16:23 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:16:23 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:16:23 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:16:23 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:16:23 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:16:23 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:16:23 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:16:23 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:16:23 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:16:23 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:16:23 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:16:23 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:16:23 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:16:23 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:16:23 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:16:23 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:16:23 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:16:23 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:17:03 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:17:03 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:17:03 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:17:03 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:17:03 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:17:03 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:17:03 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:21:35 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:21:35 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:21:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:21:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:21:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:21:35 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:21:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:21:35 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:21:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:21:35 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:21:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:21:35 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:21:35 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:21:35 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:21:35 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:21:35 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:21:35 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:21:35 - fyers_wrapper - fyers.py:402 - INFO - Obtaining new Fyers access token
2025-05-15 08:21:35 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:22:20 - fyers_wrapper - fyers.py:407 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 403, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:22:20 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:22:20 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:22:20 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:22:20 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:22:20 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:22:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:22:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:22:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:26:58 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:26:58 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:26:58 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:26:58 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:26:58 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:26:58 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:26:58 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:26:58 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:26:58 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:26:58 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:26:58 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:26:58 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:26:58 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:26:58 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:26:58 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:26:58 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:26:58 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:26:58 - fyers_wrapper - fyers.py:395 - INFO - Obtaining new Fyers access token
2025-05-15 08:26:58 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:27:20 - fyers_wrapper - fyers.py:400 - ERROR - Fyers authentication failed: Authentication failed.
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 396, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 229, in _setup_auth_sync
    raise Exception("Authentication failed.")
Exception: Authentication failed.
2025-05-15 08:27:20 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:27:20 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:27:20 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:27:20 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:27:20 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:27:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:27:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:27:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:28:45 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 08:28:45 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 08:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 08:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 08:28:45 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 08:28:45 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 08:28:45 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 08:28:45 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 08:28:45 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 08:28:45 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 08:28:45 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 08:28:45 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 08:28:45 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 08:28:45 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 08:28:45 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 08:28:45 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 08:28:45 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 08:28:45 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 08:28:45 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 08:29:39 - fyers_wrapper - fyers.py:280 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 08:29:48 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Unconsumed column names: access_token, client_id, api_secret, api_key, redirect_uri, totp_secret, pin, generated_on
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 235, in _setup_auth_sync
    asyncio.run(upsert_broker_credentials("fyers", credentials))
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
           ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/asyncio/tasks.py", line 314, in __step_run_and_handle_result
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/common/broker_utils.py", line 1759, in upsert_broker_credentials
    await session.execute(stmt)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2260, in _execute_internal
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1630, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 724, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 5843, in visit_insert
    crud_params_struct = crud._get_crud_params(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/crud.py", line 335, in _get_crud_params
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Unconsumed column names: access_token, client_id, api_secret, api_key, redirect_uri, totp_secret, pin, generated_on
2025-05-15 08:29:48 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 08:29:48 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 08:29:48 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 08:29:48 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 08:29:48 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 08:29:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:29:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:29:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:30:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:30:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:31:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:31:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:32:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:32:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:33:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:33:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:34:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:34:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:35:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:35:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:18 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:18 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:28 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:28 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:38 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:38 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:48 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:48 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:36:58 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:36:58 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:08 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:08 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:37:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:37:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:38:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:38:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:39:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:39:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:40:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:40:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:41:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:41:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:42:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:42:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:43:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:43:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:44:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:44:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:45:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:45:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:46:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:46:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:47:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:47:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:48:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:48:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:49:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:49:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:29 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:29 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:39 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:39 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:49 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:49 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:50:59 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:50:59 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:51:09 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:51:09 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:51:19 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:51:19 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:51:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:51:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:51:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:51:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:51:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:51:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:52:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:52:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:53:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:53:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:54:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:54:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:55:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:55:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:56:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:56:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:57:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:57:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:58:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:58:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 08:59:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 08:59:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:00:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:00:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:01:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:01:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:02:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:02:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:03:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:03:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:20 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:20 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:30 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:30 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:40 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:40 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:04:50 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:04:50 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:00 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:00 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:10 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:10 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:05:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:05:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:06:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:06:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:07:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:07:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:08:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:08:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:09:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:09:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:10:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:10:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:11:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:11:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:12:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:12:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:13:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:13:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:14:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:14:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:15:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:15:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:16:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:16:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:17:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:17:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:21 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:21 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:31 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:18:51 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:18:51 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:01 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:01 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:11 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:11 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:19:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:19:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:20:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:20:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:21:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:21:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:42 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:22:52 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:22:52 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:23:02 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:23:02 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:23:12 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:23:12 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:23:22 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:23:22 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:23:32 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 09:23:32 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 09:23:42 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:16:31 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:16:41 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:16:41 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:17:10 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:17:10 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:17:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:17:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:17:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:17:10 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:17:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:17:10 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:17:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:17:10 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:17:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:17:10 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:17:10 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:17:10 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:17:10 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:17:10 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:17:10 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:17:10 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 11:17:10 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:18:08 - fyers_wrapper - fyers.py:280 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 11:18:16 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Unconsumed column names: redirect_uri, api_secret, totp_secret, pin, client_id, api_key, generated_on, access_token
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 235, in _setup_auth_sync
    asyncio.run(upsert_broker_credentials("fyers", credentials))
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
           ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/asyncio/tasks.py", line 314, in __step_run_and_handle_result
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/common/broker_utils.py", line 1759, in upsert_broker_credentials
    await session.execute(stmt)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2260, in _execute_internal
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1630, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 724, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 5843, in visit_insert
    crud_params_struct = crud._get_crud_params(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/crud.py", line 335, in _get_crud_params
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Unconsumed column names: redirect_uri, api_secret, totp_secret, pin, client_id, api_key, generated_on, access_token
2025-05-15 11:18:17 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 11:18:17 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 11:18:17 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 11:18:17 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 11:18:17 - strategy_manager - strategy_manager.py:33 - WARNING - DB schema not ready: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "enabled" does not exist
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-05-15 11:18:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:18:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:18:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:18:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:18:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:18:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:18:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:18:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:18:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:19:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:19:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:20:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:20:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:21:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:21:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:27 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:27 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:37 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:37 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:47 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:47 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:22:57 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:22:57 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:23:07 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:23:07 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:23:17 - strategy_manager - strategy_manager.py:36 - ERROR - Unexpected DB error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block
[SQL: SELECT id FROM strategy_config WHERE enabled = true]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-05-15 11:23:17 - strategy_manager - strategy_manager.py:38 - DEBUG - Sleeping for 10 seconds...
2025-05-15 11:23:38 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:23:38 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:23:38 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:23:38 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:23:38 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:23:38 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:23:38 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:23:38 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:23:38 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:23:38 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:23:38 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:23:38 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:23:38 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:23:38 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:23:38 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:23:38 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:23:38 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:23:38 - fyers_wrapper - fyers.py:400 - INFO - Obtaining new Fyers access token
2025-05-15 11:23:38 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:24:34 - fyers_wrapper - fyers.py:280 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 11:24:43 - fyers_wrapper - fyers.py:405 - ERROR - Fyers authentication failed: Unconsumed column names: client_id, totp_secret, api_secret, redirect_uri, generated_on, api_key, access_token, pin
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 401, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 235, in _setup_auth_sync
    asyncio.run(upsert_broker_credentials("fyers", credentials))
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
           ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/asyncio/tasks.py", line 314, in __step_run_and_handle_result
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/common/broker_utils.py", line 1759, in upsert_broker_credentials
    await session.execute(stmt)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2260, in _execute_internal
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1630, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 724, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 5843, in visit_insert
    crud_params_struct = crud._get_crud_params(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/crud.py", line 335, in _get_crud_params
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Unconsumed column names: client_id, totp_secret, api_secret, redirect_uri, generated_on, api_key, access_token, pin
2025-05-15 11:24:43 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 11:24:43 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 11:24:43 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 11:24:43 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 11:28:43 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:28:43 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:28:43 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:28:43 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:28:43 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:28:43 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:28:43 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:28:43 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:28:43 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:28:43 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:28:43 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:28:43 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:28:43 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:28:43 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:28:43 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:28:43 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:28:43 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:28:43 - fyers_wrapper - fyers.py:412 - INFO - Obtaining new Fyers access token
2025-05-15 11:28:43 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:29:37 - fyers_wrapper - fyers.py:280 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 11:29:45 - fyers_wrapper - fyers.py:417 - ERROR - Fyers authentication failed: Unconsumed column names: generated_on, pin, redirect_uri, totp_secret, access_token, client_id, api_secret, api_key
Traceback (most recent call last):
  File "/opt/algosat/algosat/brokers/fyers.py", line 413, in login
    result = await FyersWrapper.setup_auth(is_async=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 163, in setup_auth
    return await FyersWrapper._setup_auth_async()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 170, in _setup_auth_async
    return FyersWrapper._setup_auth_sync()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/brokers/fyers.py", line 235, in _setup_auth_sync
    asyncio.run(upsert_broker_credentials("fyers", credentials))
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 30, in run
    return loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/nest_asyncio.py", line 98, in run_until_complete
    return f.result()
           ^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/futures.py", line 203, in result
    raise self._exception.with_traceback(self._exception_tb)
  File "/usr/lib/python3.12/asyncio/tasks.py", line 314, in __step_run_and_handle_result
    result = coro.send(None)
             ^^^^^^^^^^^^^^^
  File "/opt/algosat/algosat/common/broker_utils.py", line 1759, in upsert_broker_credentials
    await session.execute(stmt)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2260, in _execute_internal
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1630, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 724, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 5843, in visit_insert
    crud_params_struct = crud._get_crud_params(
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/algosat/.venv/lib/python3.12/site-packages/sqlalchemy/sql/crud.py", line 335, in _get_crud_params
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Unconsumed column names: generated_on, pin, redirect_uri, totp_secret, access_token, client_id, api_secret, api_key
2025-05-15 11:29:45 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 11:29:45 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 11:29:45 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 11:29:45 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 11:30:49 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:30:49 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:30:49 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:30:49 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:30:49 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:30:49 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:30:49 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:30:49 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:30:49 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:30:49 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:30:49 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:30:49 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:30:49 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:30:49 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:30:49 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:30:49 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:30:49 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:30:49 - fyers_wrapper - fyers.py:412 - INFO - Obtaining new Fyers access token
2025-05-15 11:30:49 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:31:35 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:31:35 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:31:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:31:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:31:35 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:31:35 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:31:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:31:35 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:31:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:31:35 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:31:35 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:31:35 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:31:35 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:31:35 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:31:35 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:31:35 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:31:35 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:33:44 - fyers_wrapper - fyers.py:412 - INFO - Obtaining new Fyers access token
2025-05-15 11:33:46 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:35:06 - fyers_wrapper - fyers.py:280 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 11:40:33 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:40:33 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:40:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:40:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:40:33 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:40:33 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:40:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:40:33 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:40:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:40:33 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:40:33 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:40:33 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:40:33 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:40:33 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:40:33 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:40:33 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:40:33 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:40:33 - fyers_wrapper - fyers.py:414 - INFO - Obtaining new Fyers access token
2025-05-15 11:40:33 - fyers_wrapper - fyers.py:211 - INFO - Generating a new access token.
2025-05-15 11:41:27 - fyers_wrapper - fyers.py:282 - DEBUG - Successfully clicked the mobile submit button!
2025-05-15 11:41:40 - fyers_wrapper - fyers.py:247 - INFO - Successfully authenticated with new token.
2025-05-15 11:41:40 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: fyers
2025-05-15 11:41:40 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: fyers
2025-05-15 11:41:40 - __main__ - main.py:151 - WARNING - Authentication failed for fyers: Authentication failed for fyers
2025-05-15 11:41:40 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 11:45:32 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:45:32 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:45:32 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:45:32 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:45:32 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:45:32 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:45:32 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:45:32 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:45:32 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:45:32 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:45:32 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:45:32 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:45:32 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:45:32 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:45:32 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:45:32 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:45:32 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:46:18 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:46:18 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:46:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:46:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:46:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:46:18 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:46:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:46:18 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:46:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:46:18 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:46:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:46:18 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:46:18 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:46:18 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:46:18 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:46:18 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:46:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 11:56:01 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 11:56:01 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 11:56:01 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 11:56:02 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 11:56:02 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 11:56:02 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 11:56:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 11:56:02 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 11:56:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 11:56:02 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 11:56:02 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 11:56:02 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 11:56:02 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 11:56:02 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 11:56:02 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 11:56:02 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 11:56:02 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 12:19:41 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 12:19:41 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 12:19:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 12:19:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 12:19:41 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 12:19:41 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 12:19:41 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 12:19:41 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 12:19:41 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 12:19:41 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 12:19:41 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 12:19:41 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 12:19:41 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 12:19:41 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 12:19:41 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 12:19:41 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 12:19:41 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 12:20:19 - fyers_wrapper - fyers.py:276 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 12:20:27 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 12:20:43 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers
2025-05-15 12:20:51 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 12:20:52 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 12:20:54 - fyers_wrapper - fyers.py:364 - ERROR - Failed to get profile: Looks like you are passing an invalid entry
2025-05-15 12:21:05 - __main__ - main.py:145 - INFO - Profile for fyers: {}
2025-05-15 12:24:07 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 12:24:07 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 12:24:07 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 12:24:07 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 12:24:07 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 12:24:07 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 12:24:07 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 12:24:07 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 12:24:07 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 12:24:07 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 12:24:07 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 12:24:07 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 12:24:07 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 12:24:07 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 12:24:07 - broker_auth - broker_auth.py:91 - INFO - Found 1 enabled broker(s): fyers
2025-05-15 12:24:07 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 12:24:07 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 12:26:34 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 12:26:38 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 12:26:38 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers
2025-05-15 12:26:38 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 12:26:41 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 12:26:52 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 12:27:56 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 12:27:56 - __main__ - main.py:154 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 13:36:47 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 13:36:47 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 13:36:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 13:36:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 13:36:47 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 13:36:47 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 13:36:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 13:36:47 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 13:36:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 13:36:47 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 13:36:47 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 13:36:47 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 13:36:47 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 13:36:47 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 13:36:47 - broker_auth - broker_auth.py:91 - INFO - Found 2 enabled broker(s): fyers, angel
2025-05-15 13:36:47 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 13:36:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 13:36:47 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 13:36:47 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 13:36:47 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 13:36:47 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 13:36:47 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 13:36:47 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 13:36:47 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 13:36:47 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 13:36:47 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 13:36:47 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 13:36:47 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 13:36:47 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 13:36:47 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 13:36:47 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 13:36:47 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 13:36:48 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 13:36:48 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 13:37:18 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 13:37:18 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 13:37:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 13:37:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 13:37:18 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 13:37:18 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 13:37:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 13:37:18 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 13:37:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 13:37:18 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 13:37:18 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 13:37:18 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 13:37:18 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 13:37:18 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 13:37:18 - broker_auth - broker_auth.py:91 - INFO - Found 2 enabled broker(s): fyers, angel
2025-05-15 13:37:18 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 13:37:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 13:37:18 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 13:37:18 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 13:37:18 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 13:37:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 13:37:18 - angel_wrapper - angel.py:203 - WARNING - Token validation failed: SmartConnect.getProfile() missing 1 required positional argument: 'refreshToken'
2025-05-15 13:37:18 - angel_wrapper - angel.py:101 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 13:37:18 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 13:37:18 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 13:37:18 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 13:37:18 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 13:37:18 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 13:37:18 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 13:37:18 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 13:37:18 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.25000000001, 'pl_total': 27794.25000000001, 'pl_unrealized': 0}}
2025-05-15 13:37:18 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 13:37:18 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 13:37:18 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 13:37:18 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 13:37:18 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 13:38:20 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 13:38:20 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 13:38:20 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 13:38:20 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 13:38:20 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 13:38:20 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 13:38:20 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 13:38:20 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 13:38:20 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 13:38:20 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 13:38:20 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 13:38:20 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 13:38:20 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 13:38:20 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 13:38:20 - broker_auth - broker_auth.py:91 - INFO - Found 2 enabled broker(s): fyers, angel
2025-05-15 13:38:20 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 13:38:20 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 13:38:20 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 13:38:20 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 13:38:20 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 13:38:20 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 13:38:20 - angel_wrapper - angel.py:200 - WARNING - Token validation failed: {'success': False, 'message': 'Invalid Token', 'errorCode': 'AG8001', 'data': ''}
2025-05-15 13:38:20 - angel_wrapper - angel.py:101 - WARNING - Existing Angel token failed validation, regenerating.
2025-05-15 13:38:20 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 13:38:20 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 13:38:20 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 13:38:20 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 13:38:20 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 13:38:20 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 13:38:20 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 13:38:20 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 13:38:20 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 13:38:20 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 13:38:20 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 13:38:20 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 13:38:20 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 13:42:10 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 13:42:10 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 13:42:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 13:42:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 13:42:10 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 13:42:10 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 13:42:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 13:42:10 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 13:42:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 13:42:10 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 13:42:10 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 13:42:10 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 13:42:10 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 13:42:10 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 13:42:10 - broker_auth - broker_auth.py:91 - INFO - Found 2 enabled broker(s): fyers, angel
2025-05-15 13:42:10 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 13:42:10 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 13:42:10 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 13:42:10 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 13:42:10 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 13:42:10 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 13:42:10 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 13:42:11 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 13:42:11 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 13:42:11 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 13:42:11 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 13:42:11 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 13:42:11 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 13:42:11 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 13:42:11 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 13:42:11 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 13:42:11 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 13:42:11 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 13:42:11 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:20:09 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:20:09 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:20:09 - __main__ - main.py:33 - INFO - Setting up broker configuration: fyers
2025-05-15 15:20:09 - __main__ - main.py:33 - INFO - Setting up broker configuration: angel
2025-05-15 15:20:09 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:20:09 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:20:09 - __main__ - main.py:76 - INFO - Checking credentials for broker: fyers
2025-05-15 15:20:09 - __main__ - main.py:110 - INFO - No credential updates needed for fyers
2025-05-15 15:20:09 - __main__ - main.py:76 - INFO - Checking credentials for broker: angel
2025-05-15 15:20:09 - __main__ - main.py:110 - INFO - No credential updates needed for angel
2025-05-15 15:20:09 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:20:09 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:20:09 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:20:09 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:20:09 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:20:09 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:20:09 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:20:18 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:20:18 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:20:18 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:20:18 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:20:49 - zerodha_wrapper - zerodha.py:88 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {//*[@id="container"]/div[2]/div/div[2]/form/div[4]/button} was not present after 7 seconds!

2025-05-15 15:21:09 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:21:16 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:21:16 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:22:12 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:22:12 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:22:12 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:22:12 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:22:12 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:22:12 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:22:12 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:22:12 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:22:12 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:22:12 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:22:12 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:23:57 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:23:57 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:23:57 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:23:57 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:23:57 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:23:57 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:23:57 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:23:57 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:23:57 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:23:57 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:23:57 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:24:10 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:24:10 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:24:10 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:24:10 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:27:30 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:27:30 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:27:30 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:27:30 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:27:30 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:27:30 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:27:30 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:27:30 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:27:30 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:27:30 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:27:30 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:27:56 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:27:56 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:27:56 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:27:56 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:37:42 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:37:42 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:37:42 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:37:42 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:37:42 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:37:42 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:37:42 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:37:42 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:37:42 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:37:42 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:37:42 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:37:42 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:37:42 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:37:42 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:37:42 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:38:19 - zerodha_wrapper - zerodha.py:91 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:38:19 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:38:19 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:38:19 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:38:19 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:38:20 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:38:20 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:38:20 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:38:20 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:38:20 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:38:20 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:38:20 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:38:20 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 15:38:20 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:38:20 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:38:20 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:38:20 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:38:20 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:38:20 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:43:29 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:43:29 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:43:29 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:43:29 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:43:29 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:43:29 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:43:29 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:43:29 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:43:29 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:43:29 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:43:29 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:43:29 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:43:29 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:43:29 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:43:29 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:43:59 - zerodha_wrapper - zerodha.py:88 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:44:00 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:44:00 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:44:00 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:44:00 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:44:00 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:44:00 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:44:00 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:44:00 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:44:00 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:44:00 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:44:00 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:44:01 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.25000000001, 'pl_total': 27794.25000000001, 'pl_unrealized': 0}}
2025-05-15 15:44:01 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:44:01 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:44:01 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:44:01 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:44:01 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:44:01 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:45:08 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:45:08 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:45:08 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:45:08 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:45:08 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:45:08 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:45:08 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:45:08 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:45:08 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:45:08 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:45:08 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:45:08 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:45:08 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:45:08 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:45:08 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:45:39 - zerodha_wrapper - zerodha.py:88 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:45:39 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:45:39 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:45:39 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:45:39 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:45:39 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:45:39 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:45:39 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:45:39 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:45:39 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:45:39 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:45:39 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:45:39 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 15:45:39 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:45:39 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:45:39 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:45:39 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:45:39 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:45:39 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:48:15 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:48:15 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:48:15 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:48:15 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:48:15 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:48:15 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:48:15 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:48:15 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:48:15 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:48:15 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:48:15 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:48:15 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:48:15 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:48:15 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:48:15 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:48:46 - zerodha_wrapper - zerodha.py:89 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:48:46 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:48:46 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:48:46 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:48:46 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:48:46 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:48:46 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:48:46 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:48:46 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:48:46 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:48:46 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:48:46 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:48:46 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 15:48:46 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:48:46 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:48:46 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:48:46 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:48:46 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:48:46 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:52:25 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:52:26 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:52:26 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:52:26 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:52:26 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:52:26 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:52:26 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:52:26 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:52:26 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:52:26 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:52:26 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:52:26 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:52:26 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:52:26 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:52:26 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:52:56 - zerodha_wrapper - zerodha.py:90 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:52:56 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:52:56 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:52:56 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:52:56 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:52:57 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:52:57 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:52:57 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:52:57 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:52:57 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:52:57 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:52:57 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:52:57 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 15:52:57 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:52:57 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:52:57 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:52:57 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:52:57 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:52:57 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:54:14 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:54:14 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:54:14 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:54:14 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:54:14 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:54:14 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:54:14 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:54:14 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:54:14 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:54:14 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:54:14 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:54:14 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:54:14 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:54:14 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:54:14 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:54:45 - zerodha_wrapper - zerodha.py:91 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 7 seconds!

2025-05-15 15:54:45 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:54:45 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:54:45 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:54:45 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:54:45 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:54:45 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:54:45 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:54:45 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:54:45 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:54:45 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:54:45 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:54:45 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.250000000007, 'pl_total': 27794.250000000007, 'pl_unrealized': 0}}
2025-05-15 15:54:45 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:54:45 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:54:45 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:54:45 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:54:45 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:54:45 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
2025-05-15 15:56:13 - __main__ - main.py:120 - INFO - ðŸ”„ Creating tables if they don't existâ€¦
2025-05-15 15:56:14 - __main__ - main.py:26 - INFO - Initializing broker configurations...
2025-05-15 15:56:14 - __main__ - main.py:33 - INFO - Setting up broker configuration: zerodha
2025-05-15 15:56:14 - __main__ - main.py:62 - INFO - Broker configurations initialized
2025-05-15 15:56:14 - __main__ - main.py:76 - INFO - Checking credentials for broker: zerodha
2025-05-15 15:56:14 - __main__ - main.py:110 - INFO - No credential updates needed for zerodha
2025-05-15 15:56:14 - __main__ - main.py:132 - INFO - Authenticating enabled brokers...
2025-05-15 15:56:14 - broker_auth - broker_auth.py:83 - INFO - Found 3 broker(s) in registry: fyers, zerodha, angel
2025-05-15 15:56:14 - broker_auth - broker_auth.py:91 - INFO - Found 3 enabled broker(s): fyers, zerodha, angel
2025-05-15 15:56:14 - broker_factory - factory.py:50 - INFO - Creating new broker instance for fyers
2025-05-15 15:56:14 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: fyers
2025-05-15 15:56:14 - fyers_wrapper - fyers.py:277 - INFO - Reusing existing Fyers access token (generated today after 6AM or before 6AM and still before 6AM)
2025-05-15 15:56:14 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: fyers
2025-05-15 15:56:14 - broker_factory - factory.py:50 - INFO - Creating new broker instance for zerodha
2025-05-15 15:56:14 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: zerodha
2025-05-15 15:56:57 - zerodha_wrapper - zerodha.py:91 - ERROR - Zerodha authentication failed in Selenium: Message: 
 Element {button[type="submit"]} was not present after 20 seconds!

2025-05-15 15:56:57 - broker_auth - broker_auth.py:64 - ERROR - Authentication failed for broker: zerodha
2025-05-15 15:56:57 - broker_factory - factory.py:50 - INFO - Creating new broker instance for angel
2025-05-15 15:56:57 - broker_auth - broker_auth.py:56 - INFO - Authenticating broker: angel
2025-05-15 15:56:57 - angel_wrapper - angel.py:113 - INFO - Generating a new Angel access token.
2025-05-15 15:56:58 - angel_wrapper - angel.py:170 - INFO - Angel login successful for 'R476835' and new tokens updated in DB.
2025-05-15 15:56:58 - broker_auth - broker_auth.py:60 - INFO - Authentication successful for broker: angel
2025-05-15 15:56:58 - broker_auth - broker_auth.py:103 - INFO - Successfully authenticated brokers: fyers, angel
2025-05-15 15:56:58 - broker_auth - broker_auth.py:105 - WARNING - Failed to authenticate brokers: zerodha
2025-05-15 15:56:58 - __main__ - main.py:140 - INFO - Authentication successful for fyers: Successfully authenticated fyers
2025-05-15 15:56:58 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for fyers
2025-05-15 15:56:58 - __main__ - main.py:145 - INFO - Profile for fyers: {'fy_id': 'XR01921', 'name': 'R SATHISH KUMAR', 'image': None, 'display_name': None, 'pin_change_date': '05-02-2025 10:58:28', 'email_id': 'sathishwebsite@gmail.com', 'pwd_change_date': '30-04-2022 00:38:38', 'PAN': '---------', 'mobile_number': '9790143444', 'totp': True, 'pwd_to_expire': -961, 'ddpi_enabled': False, 'mtf_enabled': False}
2025-05-15 15:56:58 - __main__ - main.py:149 - INFO - Positions for fyers: {'code': 200, 'message': '', 's': 'ok', 'netPositions': [{'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-BO', 'buyAvg': 165.6, 'buyQty': 300, 'buyVal': 49680, 'sellAvg': 251.725, 'sellQty': 300, 'sellVal': 75517.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': 25837.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 300, 'daySellQty': 300, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 25837.5, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55000CE', 'id': 'NSE:BANKNIFTY25MAY55000CE-MARGIN', 'buyAvg': 763.45, 'buyQty': 30, 'buyVal': 22903.5, 'sellAvg': 929.5, 'sellQty': 30, 'sellVal': 27885, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 4981.499999999998, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958559', 'exchange': 10, 'segment': 11, 'dayBuyQty': 30, 'daySellQty': 30, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 4981.499999999998, 'unrealized_profit': 0, 'ltp': 880.85, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY55600CE', 'id': 'NSE:BANKNIFTY25MAY55600CE-BO', 'buyAvg': 423.75, 'buyQty': 60, 'buyVal': 25425, 'sellAvg': 390, 'sellQty': 60, 'sellVal': 23400, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -2025, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958571', 'exchange': 10, 'segment': 11, 'dayBuyQty': 60, 'daySellQty': 60, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2025, 'unrealized_profit': 0, 'ltp': 558, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524550PE', 'id': 'NSE:NIFTY2551524550PE-MARGIN', 'buyAvg': 106.45, 'buyQty': 150, 'buyVal': 15967.5, 'sellAvg': 88.7, 'sellQty': 150, 'sellVal': 13305, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2662.5, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546273', 'exchange': 10, 'segment': 11, 'dayBuyQty': 150, 'daySellQty': 150, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2662.5, 'unrealized_profit': 0, 'ltp': 0.05, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-MARGIN', 'buyAvg': 415.0625, 'buyQty': 120, 'buyVal': 49807.5, 'sellAvg': 397.9125, 'sellQty': 120, 'sellVal': 47749.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': -2057.9999999999973, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -2057.9999999999973, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2552224850CE', 'id': 'NSE:NIFTY2552224850CE-MARGIN', 'buyAvg': 217.65, 'buyQty': 75, 'buyVal': 16323.75, 'sellAvg': 299.5, 'sellQty': 75, 'sellVal': 22462.5, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 6138.75, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052249226', 'exchange': 10, 'segment': 11, 'dayBuyQty': 75, 'daySellQty': 75, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 6138.75, 'unrealized_profit': 0, 'ltp': 317.1, 'slNo': 0}, {'symbol': 'NSE:BANKNIFTY25MAY53900PE', 'id': 'NSE:BANKNIFTY25MAY53900PE-BO', 'buyAvg': 409.85, 'buyQty': 120, 'buyVal': 49182, 'sellAvg': 378.7, 'sellQty': 120, 'sellVal': 45444, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'BO', 'realized_profit': -3738.000000000004, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125052958537', 'exchange': 10, 'segment': 11, 'dayBuyQty': 120, 'daySellQty': 120, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': -3738.000000000004, 'unrealized_profit': 0, 'ltp': 221.95, 'slNo': 0}, {'symbol': 'NSE:NIFTY2551524500CE', 'id': 'NSE:NIFTY2551524500CE-MARGIN', 'buyAvg': 260.6, 'buyQty': 1050, 'buyVal': 273630, 'sellAvg': 261.8571428571429, 'sellQty': 1050, 'sellVal': 274950, 'netAvg': 0, 'netQty': 0, 'side': 0, 'qty': 0, 'productType': 'MARGIN', 'realized_profit': 1320.0000000000102, 'crossCurrency': '', 'rbiRefRate': 1, 'fyToken': '101125051546270', 'exchange': 10, 'segment': 11, 'dayBuyQty': 1050, 'daySellQty': 1050, 'cfBuyQty': 0, 'cfSellQty': 0, 'qtyMulti_com': 1, 'pl': 1320.0000000000102, 'unrealized_profit': 0, 'ltp': 561.2, 'slNo': 0}], 'overall': {'count_open': 0, 'count_total': 8, 'pl_realized': 27794.25000000001, 'pl_total': 27794.25000000001, 'pl_unrealized': 0}}
2025-05-15 15:56:58 - __main__ - main.py:152 - WARNING - Authentication failed for zerodha: Authentication failed for zerodha
2025-05-15 15:56:58 - __main__ - main.py:140 - INFO - Authentication successful for angel: Successfully authenticated angel
2025-05-15 15:56:58 - broker_factory - factory.py:40 - DEBUG - Reusing existing broker instance for angel
2025-05-15 15:56:58 - __main__ - main.py:145 - INFO - Profile for angel: {'clientcode': 'R476835', 'name': 'SATHISH KUMAR R', 'email': '', 'mobileno': '', 'exchanges': ['nse_fo', 'nse_cm', 'cde_fo', 'ncx_fo', 'bse_fo', 'bse_cm', 'mcx_fo'], 'products': ['MARGIN', 'MIS', 'NRML', 'CNC', 'CO', 'BO'], 'lastlogintime': '', 'broker': ''}
2025-05-15 15:56:58 - __main__ - main.py:149 - INFO - Positions for angel: {'status': True, 'message': 'SUCCESS', 'errorcode': '', 'data': None}
2025-05-15 15:56:58 - __main__ - main.py:155 - INFO - ðŸš€ All brokers processed. Entering poll loop...
